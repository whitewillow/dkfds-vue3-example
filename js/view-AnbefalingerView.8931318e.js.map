{"version":3,"file":"js/view-AnbefalingerView.8931318e.js","mappings":"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","sources":["webpack://example/./node_modules/dkfds-vue3/src/service/navigation.service.ts","webpack://example/./src/views/AnbefalingerView.vue?94ee","webpack://example/./src/views/AnbefalingerView.vue","webpack://example/./node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"sourcesContent":["import { FdsNavigationItem } from '@/model/fds.model';\n\nclass NavigationService {\n  getParent = (key: string, list: Array<FdsNavigationItem>): FdsNavigationItem | undefined => {\n    return list.find((f) => f.children?.some((s) => s.key === key));\n  };\n\n  /**\n   * gets key eg: \"y/z\", find parent \"x\" and add it to key e.g. \"x/y/z\"\n   * @param key\n   * @param list\n   * @returns \"x/y/z\"\n   */\n  resolveKey = (key: string, list: Array<FdsNavigationItem>) => {\n    const [firstKey] = key.split('/');\n\n    const parent = this.getParent(firstKey, list);\n    return parent ? `${parent.key}/${key}` : key;\n  };\n\n  /**\n   * If key x/y/z splits and finds the last key = active key\n   * @param e.g: \"x/y/z\"\n   * @param list\n   * @returns z\n   */\n  resolveActiveKey = (key: string) => {\n    const [firstKey] = key.split('/').reverse();\n    return firstKey;\n  };\n\n  /**\n   * Clears active chilred recursively\n   * @param children\n   * @returns\n   */\n  clearChildren = (\n    children: Array<FdsNavigationItem> | undefined,\n  ): Array<FdsNavigationItem> | undefined => {\n    if (!children) {\n      return children;\n    }\n\n    return children.map((m) => ({ ...m, active: false, children: this.clearChildren(m.children) }));\n  };\n\n  /**\n   * Set item active\n   * @param list\n   * @param activeItem\n   * @returns\n   */\n  setActive = (list: Array<FdsNavigationItem>, key: string): Array<FdsNavigationItem> => {\n    return list.map((f) => ({\n      ...f,\n      active: f.key === key,\n      children: this.clearChildren(f.children),\n    }));\n  };\n\n  /**\n   * Finds first active item, if none - then if navigateFirst - the first item thats not disabled\n   * @param list\n   * @param navigateFirst\n   * @returns\n   */\n  findFirstActiveItem = (\n    list: Array<FdsNavigationItem>,\n    navigateFirst = false,\n  ): FdsNavigationItem | undefined => {\n    const firstActive = list.find((f) => !f.disabled && f.active);\n    if (firstActive) {\n      return firstActive;\n    }\n    if (navigateFirst) {\n      return list.find((f) => !f.disabled);\n    }\n    return undefined;\n  };\n}\nconst navigationService = new NavigationService();\nexport default navigationService;","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"container page-container\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = { class: \"col-12 col-lg-3 sidebar-col\" }\nconst _hoisted_4 = { class: \"col-12 col-lg-9\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"subheading\" }, \"Anbefalinger\", -1)\nconst _hoisted_6 = [\"id\"]\n\nimport { FdsNavigationItem } from 'dkfds-vue3/src/model/fds.model';\nimport navigationService from 'dkfds-vue3/src/service/navigation.service';\nimport { ref, watch } from 'vue';\n\nimport { useRouter, useRoute } from 'vue-router';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AnbefalingerView',\n  setup(__props) {\n\nconst route = useRoute();\nconst router = useRouter();\n\nconst currentNavigationKey = ref('');\nconst currentItem = ref<FdsNavigationItem | undefined>();\nconst navigationList = ref<Array<FdsNavigationItem>>([\n  {\n    key: 'anbefalingernavigation',\n    title: 'Navigation',\n  },\n] as FdsNavigationItem[]);\n\nwatch(\n  () => route.name,\n  () => {\n    navigationList.value = navigationService.setActive(\n      navigationList.value,\n      route.name?.toString() ?? '',\n    );\n    currentItem.value = navigationService.findFirstActiveItem(navigationList.value);\n  },\n  {\n    immediate: true,\n  },\n);\n\nconst handleNavigation = (key: string) => {\n  currentNavigationKey.value = key;\n  router.push({ name: navigationService.resolveActiveKey(key) });\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_xfds_menu = _resolveComponent(\"xfds-menu\")!\n  const _component_router_view = _resolveComponent(\"router-view\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"aside\", _hoisted_3, [\n        _createElementVNode(\"nav\", null, [\n          _createVNode(_component_xfds_menu, {\n            modelValue: navigationList.value,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((navigationList).value = $event)),\n            onNavigate: handleNavigation\n          }, null, 8, [\"modelValue\"])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        (currentItem.value)\n          ? (_openBlock(), _createElementBlock(\"h1\", {\n              key: 0,\n              id: currentItem.value.key\n            }, _toDisplayString(currentItem.value.title), 9, _hoisted_6))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_router_view)\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./AnbefalingerView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AnbefalingerView.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"names":["NavigationService","key","list","find","f","children","some","s","firstKey","split","parent","this","getParent","reverse","map","m","active","clearChildren","navigateFirst","firstActive","disabled","navigationService","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementVNode","_hoisted_6","_defineComponent","__name","setup","__props","route","useRoute","router","useRouter","currentNavigationKey","ref","currentItem","navigationList","title","watch","name","value","toString","immediate","handleNavigation","push","_ctx","_cache","_component_xfds_menu","_resolveComponent","_component_router_view","_openBlock","_createElementBlock","_createVNode","modelValue","$event","onNavigate","id","_toDisplayString","_createCommentVNode","__exports__","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable"],"sourceRoot":""}